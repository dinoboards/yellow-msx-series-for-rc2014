SIO0BASE	EQU	$80		; SIO BASE PORT
; PORT MAPPINGS FOR THE STANDARD RC2014 SIO/2
RC_SIOA_CMD	EQU	SIO0BASE + 0	; CONTROL/STATUS PORT
RC_SIOA_DAT	EQU	SIO0BASE + 1	; DATA PORT
RC_SIOB_CMD	EQU	SIO0BASE + 2	; CONTROL/STATUS PORT
RC_SIOB_DAT	EQU	SIO0BASE + 3    ; DATA PORT

; PORT MAPPINGS FOR SIO/2 WITHOUT INVERTER FOR A0
YL_SIOA_CMD	EQU	SIO0BASE + 2	; CONTROL/STATUS PORT
YL_SIOA_DAT	EQU	SIO0BASE + 0	; DATA PORT
YL_SIOB_CMD	EQU	SIO0BASE + 3	; CONTROL/STATUS PORT
YL_SIOB_DAT	EQU	SIO0BASE + 1    ; DATA PORT


SIO_WR1VAL	EQU	$18		; WR1 VALUE FOR INT ON RECEIVED CHARS
SIO_RTSON	EQU	$EA
SIO_RTSOFF	EQU	$E8

; THE CLOCK FREQUENCY SELECTED FOR THE 2ND CLOCK, TO IDENTIFIY THE CORRECT BAUD RATES FOR THE SIO/2 MODULE
; A CLOCK OF 307200 MAPS TO THREE SELECTABLE BAUD RATES OF (19200, 9600, 4800)
BUS_CLK		EQU	307200

BAUD_LOW	EQU	BUS_CLK / 64	; 4800
BAUD_MID	EQU	BUS_CLK / 32	; 9600
BAUD_HIGH	EQU	BUS_CLK / 16	; 19200

FOSSIL_BAUD_75		EQU	0
FOSSIL_BAUD_300		EQU	1
FOSSIL_BAUD_600		EQU	2
FOSSIL_BAUD_1200	EQU	3
FOSSIL_BAUD_2400	EQU	4
FOSSIL_BAUD_4800	EQU	5
FOSSIL_BAUD_9600	EQU	6
FOSSIL_BAUD_19200	EQU	7
FOSSIL_BAUD_38400	EQU	8
FOSSIL_BAUD_57600	EQU	9
FOSSIL_BAUD_115200	EQU	11

SIO_CLK_DIV_64		EQU	11000000B
SIO_CLK_DIV_32		EQU	10000000B
SIO_CLK_DIV_16		EQU	01000000B

SIO_BUFSZ	EQU	256

;;; THESE need to be moved into the service's own data section
RS_SIO_A_CMD:	EQU	$FB0C		; THE SIO/2 COMMAND PORT
RS_SIO_A_DAT:	EQU	$FB0D		; THE SIO/2 DATA PORT
RS_SIO_B_CMD:	EQU	$FB0E		; THE SIO/2 COMMAND PORT
RS_SIO_B_DAT:	EQU	$FB0F		; THE SIO/2 DATA PORT
RS_SIO_CLK_DIV:	EQU	$FB1E		; RE-PURPOSE RS_LSTCOM - BIT 6 AND 7 - SIO/2 CLOCK DIVIDER SETTING (/16, /32 OR /64) AS PER REGISTER 4
RS_IQLN:	EQU	$FB06		; (1 BYTE)  BYTE DATA USED BY THE RS-232C INTERFACE - SIZE OF BUFFER
RS_FCB:		EQU	$FB04		; (2 BYTES) FCB ("FILE CONTROL BLOCK") ADDRESS OF THE RS-232C
RS_DATCNT:	EQU	$FB17		; (1 BYTE)  REPURPOSED - CURRENT BUFFER COUNT
RS_FLAGS:	EQU	$FB1B		; (1 BYTE)  RS-232C RS_FLAGS (BIT 1 - RTS ON, BIT 3 - SET IF OPENED)
RS_BUFEND:	EQU	$FB18		; (2 BYTES) REPURPOSED - CURRENT BUFFER END PTR


SIO_CHIP_RTS_C	MACRO	_RTS
	LD	A, 5
	OUT	(C), A
	LD	A, _RTS
	OUT	(C), A
	ENDM
